<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogo de Palavras</title>

    <link rel="stylesheet" href="css/style.css">
</head>

<body>

<!-- MENU -->
<div class="screen active" id="menu">
    <h1>ğŸ² Jogo de Palavras</h1>

    <button onclick="go('game1')">ğŸ“ Sortear Palavras</button>
    <button onclick="go('game2')">â±ï¸ Palavra + Timer</button>
    <button onclick="initImpostor(); go('impostor-lobby')">ğŸ•µï¸ Jogo do Impostor</button>

    <!-- DROPDOWN -->
    <div class="dropdown" id="catDropdown">
        <button class="dropdown-btn" onclick="toggleDropdown()">ğŸ“‚ Categorias â–¾</button>
        <div class="dropdown-content" id="categoriasBox"></div>
    </div>
</div>

<!-- JOGO 1 -->
<div class="screen" id="game1">
    <h2>Sortear Palavras</h2>

    <select id="qtd">
        <option>1</option><option>2</option><option>3</option>
        <option>4</option><option selected>5</option>
        <option>6</option><option>7</option><option>8</option>
        <option>9</option><option>10</option>
    </select>

    <button onclick="sortearLista()">ğŸ² Sortear</button>
    <div class="words" id="lista"></div>

    <button class="back" onclick="go('menu')">â¬… Voltar</button>
</div>

<!-- JOGO 2 -->
<div class="screen" id="game2">
    <h2>Palavra Secreta</h2>

    <button onclick="sortearPalavra()">ğŸ¯ Sortear Palavra</button>
    <div id="palavra" class="palavra"></div>
    <button onclick="toggleHide()">ğŸ™ˆ Esconder / Mostrar</button>

    <select id="tempo">
        <option value="5">5s</option>
        <option value="10" selected>10s</option>
        <option value="20">20s</option>
        <option value="30">30s</option>
        <option value="60">60s</option>
    </select>

    <button onclick="startTimer()">â–¶ ComeÃ§ar</button>
    <button class="back" onclick="go('menu')">â¬… Voltar</button>
</div>

<!-- OVERLAY TIMER -->
<div class="overlay" id="timerOverlay">
    <div>
        <div class="overlay-timer" id="overlayTimer">0</div>
        <div class="overlay-buttons">
            <button onclick="stopTimer()">â¹ Parar</button>
            <button onclick="pauseTimer()">â¸ Pausar</button>
        </div>
    </div>
</div>

<!-- IMPOSTOR - LOBBY -->
<div class="screen" id="impostor-lobby">
    <h2>ğŸ•µï¸ Jogo do Impostor</h2>

    <label>
        Seu nome:
        <input id="impostorNome" type="text" placeholder="Digite seu nome">
    </label>

    <button onclick="criarSala(); go('impostor-game')">ğŸ© Hostear jogo</button>
    <button onclick="go('impostor-join')">ğŸ” Entrar em sala</button>

    <button class="back" onclick="go('menu')">â¬… Voltar</button>
</div>

<!-- IMPOSTOR - ENTRAR NA SALA -->
<div class="screen" id="impostor-join">
    <h2>ğŸ”‘ Entrar em Sala</h2>

    <input
        id="codigoInput"
        type="text"
        placeholder="CÃ³digo da sala"
        maxlength="6"
        style="text-transform: uppercase"
    >

    <button onclick="entrarSala()">â¡ Entrar</button>
    <button class="back" onclick="go('impostor-game')">â¬… Voltar</button>
</div>

<!-- IMPOSTOR - JOGO -->
<div class="screen" id="impostor-game">

    <!-- HOST -->
    <div id="hostArea" style="display:none;">
        <h2>ğŸ© VocÃª Ã© o Host</h2>
        <p>Sala: <strong id="codigoSala">----</strong></p>

        <h3>Jogadores</h3>
        <ul id="impostorPlayersList"></ul>

        <button onclick="iniciarPartida()">â–¶ Iniciar partida</button>
    </div>

    <!-- JOGADOR -->
    <div id="playerArea" style="display:none;">
        <p style="font-size:22px;">â³ Aguardando rodada inicial...</p>
    </div>

    <!-- REVELAÃ‡ÃƒO -->
    <div id="impostorMensagem" class="hidden" style="font-size:28px;">
        <p id="impostorRevealText"></p>
        <button onclick="toggleMensagem()">ğŸ™ˆ Ocultar</button>
    </div>

</div>



<!-- SONS -->
<audio id="startSound" src="sounds/starting_gun.wav"></audio>
<audio id="beep" src="sounds/beep.wav"></audio>
<audio id="alarm" src="sounds/alarm.wav"></audio>

<script type="module" src="js/firebase.js"></script>
<script type="module" src="js/app.js"></script>
<script type="module" src="js/game-impostor.js"></script>
</body>
</html>